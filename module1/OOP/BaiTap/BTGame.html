<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>game</title>
</head>
<body>
<canvas id="myCanvas" width="1000px" height="700px" style="border:1px solid #d3d3d3;"></canvas>
<script>
    let arrXe=[];
    let x=450;
    let y=550;
    let speed=5;
    class Xe {
        constructor(viTriX, viTriY, tocDo,) {
            this._viTriX = viTriX;
            this._viTriY = viTriY;
            this._tocDo = tocDo;
        }


        get viTriX() {
            return this._viTriX;
        }

        set viTriX(value) {
            this._viTriX = value;
        }

        get viTriY() {
            return this._viTriY;
        }

        set viTriY(value) {
            this._viTriY = value;
        }

        get tocDo() {
            return this._tocDo;
        }

        set tocDo(value) {
            this._tocDo = value;
        }
        chayXe(){
            this.viTriY-=this.tocDo;
        }
        moveXe(huong) {
            switch (huong) {
                case 'ArrowLeft':
                    this.viTriX -= this.tocDo;
                    break;
                case 'ArrowRight':
                    this.viTriX += this.tocDo;
                    break;

            }
        }
    }
    function chiNamXe(xe){
        let a= new Xe();
        a.viTriX=xe.viTriX;
        a.viTriY=xe.viTriY;
        arrXe.push(a);
        if(arrXe.length>5){
            arrXe.splice(0,1);
        }


    }

    let honda = new Xe(x, y, speed);
    function taoXe() {
        let image = new Image();
        image.src = 'abc.png';
        honda.chayXe();
        image.onload = function () {
            let cvn = document.getElementById("myCanvas").getContext("2d");
            cvn.drawImage(image, honda.viTriX, honda.viTriY);
            cvn.fill();

        };
        document.addEventListener('keydown',logKey);
        function logKey(a) {
            honda.moveXe(a.code)
        }
        console.log(honda.viTriX);

    }

    window.setInterval(function () { taoXe()},300)

</script>
</body>
</html>